<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIS - Dostępne loty</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }
        header {
            background-color: #333;
            color: white;
            text-align: center;
            padding: 10px 0;
            position: fixed;
            width: 100%;
            top: 0;
        }
        nav a {
            color: white;
            margin: 0 15px;
            text-decoration: none;
        }
        .container {
            max-width: 800px;
            margin: 80px auto;
            padding: 20px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h2 {
            color: #333;
            margin-bottom: 20px;
        }
        .summary {
            margin-bottom: 20px;
            color: #555;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #f2f2f2;
        }
        tr:hover {
            background-color: #f9f9f9;
        }
        .select-btn {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
        }
        .select-btn:hover {
            background-color: #218838;
        }
        .back-btn {
            background-color: #007BFF;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            text-decoration: none;
            display: inline-block;
        }
        .back-btn:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <a href="index.html">Zarezerwuj lot</a>
            <a href="#checkin">Odpraw się</a>
            <a href="#manage">Zarządzaj rezerwacją</a>
        </nav>
    </header>
    <div class="container">
        <h2>Dostępne loty</h2>
        <div class="summary" id="summary-text"></div>
        <table id="flights-table">
            <thead>
                <tr>
                    <th>Godzina</th>
                    <th>Czas lotu</th>
                    <th>Lotnisko wylotu</th>
                    <th>Lotnisko przylotu</th>
                    <th>Cena</th>
                    <th>Akcja</th>
                </tr>
            </thead>
            <tbody id="flights-list"></tbody>
        </table>
        <a href="index.html" class="back-btn">Powrót do wyszukiwania</a>
    </div>

    <script>
        // Pobieranie parametrów z URL
        const urlParams = new URLSearchParams(window.location.search);
        const origin = urlParams.get('origin') || 'Nie wybrano';
        const destination = urlParams.get('destination') || 'Nie wybrano';
        const departure = urlParams.get('departure') || 'Nie wybrano';
        const returnDate = urlParams.get('return') || '';
        const passengers = urlParams.get('passengers') || '1 Pasażer, Ekonomiczna';
        const tripType = urlParams.get('trip-type') || 'one-way';

        // Wyświetlanie podsumowania
        document.getElementById('summary-text').textContent = `Wyszukiwanie: ${origin} → ${destination}, ${departure}${tripType === 'round-trip' ? `, Powrót: ${returnDate}` : ''}, ${passengers}`;

        // Dane lotów
        const flights = [
            { plane: 'A220-100', origin: 'Centralny Port Komunikacyjny', destination: 'Gdańsk-Rębiechowo (GDN)', time: '05:00', arrival: '06:00', duration: '1h 00m', price: '150 PLN' },
            { plane: 'A220-100', origin: 'Gdańsk-Rębiechowo (GDN)', destination: 'Centralny Port Komunikacyjny', time: '06:45', arrival: '07:55', duration: '1h 10m', price: '180 PLN' },
            { plane: 'A220-100', origin: 'Centralny Port Komunikacyjny', destination: 'Warszawa-Chopina (WAW)', time: '08:40', arrival: '09:50', duration: '1h 10m', price: '180 PLN' },
            { plane: 'A220-100', origin: 'Warszawa-Chopina (WAW)', destination: 'Centralny Port Komunikacyjny', time: '10:35', arrival: '11:30', duration: '0h 55m', price: '160 PLN' },
            { plane: 'A220-100', origin: 'Centralny Port Komunikacyjny', destination: 'Kraków-Balice (KRK)', time: '13:55', arrival: '15:35', duration: '1h 40m', price: '200 PLN' },
            { plane: 'A220-100', origin: 'Kraków-Balice (KRK)', destination: 'Centralny Port Komunikacyjny', time: '16:20', arrival: '18:00', duration: '1h 40m', price: '200 PLN' },
            { plane: 'A220-100', origin: 'Centralny Port Komunikacyjny', destination: 'Wrocław-Strachowice (WRO)', time: '18:45', arrival: '19:55', duration: '1h 10m', price: '180 PLN' },
            { plane: 'A220-100', origin: 'Wrocław-Strachowice (WRO)', destination: 'Centralny Port Komunikacyjny', time: '20:40', arrival: '21:50', duration: '1h 10m', price: '180 PLN' },
            { plane: 'A330-800 NEO', origin: 'Centralny Port Komunikacyjny', destination: 'Berlin-Tegel (TXL)', time: '23:00', arrival: '08:30', duration: '9h 30m', price: '1200 PLN' },
            { plane: 'A330-800 NEO', origin: 'Berlin-Tegel (TXL)', destination: 'Centralny Port Komunikacyjny', time: '11:00', arrival: '20:30', duration: '9h 30m', price: '1200 PLN' }
        ];

        // Filtrowanie lotów
        const filteredFlights = flights.filter(flight => 
            flight.origin === origin && flight.destination === destination
        );

        // Wyświetlanie lotów
        const flightsList = document.getElementById('flights-list');
        if (filteredFlights.length > 0) {
            filteredFlights.forEach(flight => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${flight.time} - ${flight.arrival}</td>
                    <td>${flight.duration}</td>
                    <td>${flight.origin}</td>
                    <td>${flight.destination}</td>
                    <td>${flight.price}</td>
                    <td><button class="select-btn">Wybierz</button></td>
                `;
                flightsList.appendChild(row);
            });
        } else {
            const row = document.createElement('tr');
            row.innerHTML = `<td colspan="6">Nie znaleziono lotów dla podanych kryteriów.</td>`;
            flightsList.appendChild(row);
        }
    </script>
</body>
</html>
